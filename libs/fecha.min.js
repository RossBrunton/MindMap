(function(e){"use strict";var t={},n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["am","pm"],o=/\d\d?/,u=/\d{3}/,s=/\d{4}/,m=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,d=function(){},f,l,h={D:[o,function(e,t){e.day=t}],M:[o,function(e,t){e.month=t-1}],YY:[o,function(e,t){var n=new Date,a=+(""+n.getFullYear()).substr(0,2);e.year=""+(t>68?a-1:a)+t}],h:[o,function(e,t){e.hour=t}],m:[o,function(e,t){e.minute=t}],s:[o,function(e,t){e.second=t}],YYYY:[s,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=t*100}],SS:[/\d{2}/,function(e,t){e.millisecond=t*10}],SSS:[u,function(e,t){e.millisecond=t}],d:[o,d],ddd:[m,d],MMM:[m,c("monthNamesShort")],MMMM:[m,c("monthNames")],a:[m,function(e,t){var n=t.toLowerCase();if(n===i[0]){e.isPm=false}else if(n===i[1]){e.isPm=true}}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n=(t+"").match(/([\+\-]|\d\d)/gi),a;if(n){a=+(n[1]*60)+parseInt(n[2],10);e.timezoneOffset=n[0]==="+"?a:-a}}]};h.dd=h.d;h.dddd=h.ddd;h.Do=h.DD=h.D;h.mm=h.m;h.hh=h.H=h.HH=h.h;h.MM=h.M;h.ss=h.s;h.A=h.a;l=Y(r,3);f=Y(a,3);function c(e){return function(n,a){var r=t.i18n[e].indexOf(a.charAt(0).toUpperCase()+a.substr(1).toLowerCase());if(~r){n.month=r}}}function M(e,t){e=String(e);t=t||2;while(e.length<t){e="0"+e}return e}function Y(e,t){var n=[];for(var a=0,r=e.length;a<r;a++){n.push(e[a].substr(0,t))}return n}function D(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10)*e%10]}t.i18n={dayNamesShort:f,dayNames:a,monthNamesShort:l,monthNames:r,amPm:i,DoFn:D};t.masks={"default":"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};t.format=function(e,a){if(typeof e==="number"){e=new Date(e)}if(Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime())){throw new Error("Invalid Date in fecha.format")}a=t.masks[a]||a||t.masks["default"];var r=e.getDate(),i=e.getDay(),o=e.getMonth(),u=e.getFullYear(),s=e.getHours(),m=e.getMinutes(),d=e.getSeconds(),f=e.getMilliseconds(),l=e.getTimezoneOffset(),h={D:r,DD:M(r),Do:t.i18n.DoFn(r),d:i,dd:M(i),ddd:t.i18n.dayNamesShort[i],dddd:t.i18n.dayNames[i],M:o+1,MM:M(o+1),MMM:t.i18n.monthNamesShort[o],MMMM:t.i18n.monthNames[o],YY:String(u).slice(2),YYYY:u,h:s%12||12,hh:M(s%12||12),H:s,HH:M(s),m:m,mm:M(m),s:d,ss:M(d),S:Math.round(f/100),SS:M(Math.round(f/10),2),SSS:M(f,3),a:s<12?t.i18n.amPm[0]:t.i18n.amPm[1],A:s<12?t.i18n.amPm[0].toUpperCase():t.i18n.amPm[1].toUpperCase(),ZZ:(l>0?"-":"+")+M(Math.floor(Math.abs(l)/60)*100+Math.abs(l)%60,4)};return a.replace(n,function(e){return e in h?h[e]:e.slice(1,e.length-1)})};t.parse=function(e,a){var r,i,o,u,s,m;if(typeof a!=="string"){throw new Error("Invalid format in fecha.parse")}a=t.masks[a]||a;if(e.length>1e3){return false}r=true;i={};a.replace(n,function(t){if(h[t]){s=h[t];m=e.search(s[0]);if(!~m){r=false}else{e.replace(s[0],function(t){s[1](i,t);e=e.substr(m+t.length);return t})}}return h[t]?"":t.slice(1,t.length-1)});if(!r){return false}o=new Date;if(i.isPm===true&&i.hour!=null&&+i.hour!==12){i.hour=+i.hour+12}else if(i.isPm===false&&+i.hour===12){i.hour=0}if(i.timezoneOffset!=null){i.minute=+(i.minute||0)-+i.timezoneOffset;u=new Date(Date.UTC(i.year||o.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0))}else{u=new Date(i.year||o.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0)}return u};if(typeof module!=="undefined"&&module.exports){module.exports=t}else if(typeof define==="function"&&define.amd){define(function(){return t})}else{e.fecha=t}})(this);